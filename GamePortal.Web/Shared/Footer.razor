@using GamePortal.Core.Entities
@using GamePortal.Core.Services
@inject ISiteSettingsService SiteSettingsService

<footer class="site-footer">
	<div class="container">
		<div class="row">
			<div class="col-md-6 col-lg-5 mb-4 mb-md-0">
				<div class="footer-brand">
					@if (!string.IsNullOrEmpty(settings?.LogoUrl))
					{
						<img src="@settings.LogoUrl" alt="@settings?.SiteName" class="footer-logo mb-2" />
					}
					else
					{
						<h3 class="footer-brand-text">ðŸŽ® @(settings?.SiteName ?? "GamePortal")</h3>
					}
					@if (!string.IsNullOrEmpty(settings?.FooterDescription))
					{
						<p class="footer-description">@settings.FooterDescription</p>
					}
				</div>
			</div>
			<div class="col-md-6 col-lg-4 mb-4 mb-md-0">
				<h5 class="footer-title">Contact Us</h5>
				<ul class="footer-contact">
					@if (!string.IsNullOrEmpty(settings?.Email))
					{
						<li>
							<i class="bi bi-envelope"></i>
							<a href="mailto:@settings.Email">@settings.Email</a>
						</li>
					}
					@if (!string.IsNullOrEmpty(settings?.Phone))
					{
						<li>
							<i class="bi bi-telephone"></i>
							<a href="tel:@settings.Phone">@settings.Phone</a>
						</li>
					}
					@if (!string.IsNullOrEmpty(settings?.Address))
					{
						<li>
							<i class="bi bi-geo-alt"></i>
							<span>@settings.Address</span>
						</li>
					}
				</ul>
			</div>
			<div class="col-md-12 col-lg-3">
				<h5 class="footer-title">Quick Links</h5>
				<ul class="footer-links">
					@if (!string.IsNullOrEmpty(settings?.PrivacyPolicyUrl))
					{
						<li><a href="@settings.PrivacyPolicyUrl">Privacy Policy</a></li>
					}
					@if (!string.IsNullOrEmpty(settings?.DisclaimerUrl))
					{
						<li><a href="@settings.DisclaimerUrl">Disclaimer</a></li>
					}
					@if (!string.IsNullOrEmpty(settings?.TermsOfServiceUrl))
					{
						<li><a href="@settings.TermsOfServiceUrl">Terms of Service</a></li>
					}
				</ul>
				<div class="footer-social mt-3">
					@if (!string.IsNullOrEmpty(settings?.FacebookUrl))
					{
						<a href="@settings.FacebookUrl" target="_blank" rel="noopener noreferrer" class="social-link" title="Facebook">
							<i class="bi bi-facebook"></i>
						</a>
					}
					@if (!string.IsNullOrEmpty(settings?.TwitterUrl))
					{
						<a href="@settings.TwitterUrl" target="_blank" rel="noopener noreferrer" class="social-link" title="Twitter">
							<i class="bi bi-twitter"></i>
						</a>
					}
					@if (!string.IsNullOrEmpty(settings?.InstagramUrl))
					{
						<a href="@settings.InstagramUrl" target="_blank" rel="noopener noreferrer" class="social-link" title="Instagram">
							<i class="bi bi-instagram"></i>
						</a>
					}
					@if (!string.IsNullOrEmpty(settings?.YoutubeUrl))
					{
						<a href="@settings.YoutubeUrl" target="_blank" rel="noopener noreferrer" class="social-link" title="YouTube">
							<i class="bi bi-youtube"></i>
						</a>
					}
				</div>
			</div>
		</div>
		<div class="footer-bottom">
			<div class="row">
				<div class="col-12 text-center">
					<p class="mb-0">
						@if (!string.IsNullOrEmpty(settings?.CopyrightText))
						{
							@settings.CopyrightText
						}
						else
						{
							<text>Â© @DateTime.Now.Year @(settings?.SiteName ?? "GamePortal"). All rights reserved.</text>
						}
					</p>
				</div>
			</div>
		</div>
	</div>
</footer>

@code {
	private SiteSettings? settings;

	protected override async Task OnInitializedAsync()
	{
		try
		{
			settings = await SiteSettingsService.GetSettingsAsync();
		}
		catch
		{
			// Handle error gracefully
			settings = null;
		}
	}
}

